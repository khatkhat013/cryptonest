From 6253ef183bc307546d1bed7b946a3dd11f326ced Mon Sep 17 00:00:00 2001
From: myokoaung002 <myokoaung002@gmail.com>
Date: Tue, 18 Nov 2025 15:35:31 -0500
Subject: [PATCH] Networks Update

---
 .../Controllers/Admin/AdminController.php     |  22 ++-
 .../Controllers/Admin/ProfileController.php   |  19 ++-
 app/Models/AdminWallet.php                    |  12 +-
 app/Models/Network.php                        |  12 ++
 ...18_000001_add_network_to_admin_wallets.php |  36 +++++
 ...create_networks_and_link_admin_wallets.php |  50 +++++++
 ...3_backfill_networks_from_admin_wallets.php |  34 +++++
 ...000004_set_default_trc20_admin_wallets.php |  32 +++++
 ...8_000005_remove_admin_id_from_networks.php |  27 ++++
 database/seeders/DatabaseSeeder.php           |   1 +
 database/seeders/NetworkSeeder.php            |  27 ++++
 resources/views/admin/admins/edit.blade.php   |  44 +++++-
 resources/views/admin/profile.blade.php       | 133 ++++++++++++++----
 resources/views/wallet/detail.blade.php       |  27 +++-
 routes/web.php                                |   8 ++
 15 files changed, 447 insertions(+), 37 deletions(-)
 create mode 100644 app/Models/Network.php
 create mode 100644 database/migrations/2025_11_18_000001_add_network_to_admin_wallets.php
 create mode 100644 database/migrations/2025_11_18_000002_create_networks_and_link_admin_wallets.php
 create mode 100644 database/migrations/2025_11_18_000003_backfill_networks_from_admin_wallets.php
 create mode 100644 database/migrations/2025_11_18_000004_set_default_trc20_admin_wallets.php
 create mode 100644 database/migrations/2025_11_18_000005_remove_admin_id_from_networks.php
 create mode 100644 database/seeders/NetworkSeeder.php

diff --git a/app/Http/Controllers/Admin/AdminController.php b/app/Http/Controllers/Admin/AdminController.php
index 190fe70..d6ab378 100644
--- a/app/Http/Controllers/Admin/AdminController.php
+++ b/app/Http/Controllers/Admin/AdminController.php
@@ -87,9 +87,13 @@ public function edit(Admin $admin)
         }
 
         // Load admin wallets to allow editing addresses in the form
-        $adminWallets = \App\Models\AdminWallet::where('admin_id', $admin->id)->with('currency')->get();
+        $adminWallets = \App\Models\AdminWallet::where('admin_id', $admin->id)->with(['currency', 'network'])->get();
         $currencies = Currency::orderBy('symbol')->get();
-        return view('admin.admins.edit', compact('admin', 'adminWallets', 'currencies'));
+
+        // Networks available: global list
+        $networks = \App\Models\Network::orderBy('name')->get();
+
+        return view('admin.admins.edit', compact('admin', 'adminWallets', 'currencies', 'networks'));
     }
 
     public function update(Request $request, Admin $admin)
@@ -106,7 +110,9 @@ public function update(Request $request, Admin $admin)
             'role_id' => 'required|exists:roles,id'
             , 'wallets' => 'sometimes|array',
             'wallets.*.address' => 'nullable|string|max:255',
-            'wallets.*.currency_id' => 'nullable|exists:currencies,id'
+            'wallets.*.currency_id' => 'nullable|exists:currencies,id',
+            'wallets.*.network' => 'nullable|string|max:50',
+            'wallets.*.network_id' => 'nullable|exists:networks,id'
         ]);
 
         $admin->update([
@@ -137,7 +143,9 @@ public function update(Request $request, Admin $admin)
                     \App\Models\AdminWallet::create([
                         'admin_id' => $admin->id,
                         'currency_id' => $currencyId,
-                        'address' => $address
+                        'address' => $address,
+                        'network' => $wdata['network'] ?? null,
+                        'network_id' => $wdata['network_id'] ?? null,
                     ]);
                 }
             } else {
@@ -150,6 +158,12 @@ public function update(Request $request, Admin $admin)
                     $update['currency_id'] = $wdata['currency_id'];
                 }
                 if (!empty($update)) {
+                    if (isset($wdata['network'])) {
+                        $update['network'] = $wdata['network'];
+                    }
+                    if (isset($wdata['network_id'])) {
+                        $update['network_id'] = $wdata['network_id'];
+                    }
                     \App\Models\AdminWallet::where('id', $wid)->where('admin_id', $admin->id)
                         ->update($update);
                 }
diff --git a/app/Http/Controllers/Admin/ProfileController.php b/app/Http/Controllers/Admin/ProfileController.php
index 47d905f..b912cbc 100644
--- a/app/Http/Controllers/Admin/ProfileController.php
+++ b/app/Http/Controllers/Admin/ProfileController.php
@@ -14,8 +14,12 @@ public function index()
     {
         $admin = Auth::guard('admin')->user();
         // Load admin wallets so admin can edit their addresses from profile
-        $adminWallets = \App\Models\AdminWallet::where('admin_id', $admin->id)->with('currency')->get();
-        return view('admin.profile', compact('admin', 'adminWallets'));
+        $adminWallets = \App\Models\AdminWallet::where('admin_id', $admin->id)->with(['currency', 'network'])->get();
+
+        // networks: all networks (global list)
+        $networks = \App\Models\Network::orderBy('name')->get();
+
+        return view('admin.profile', compact('admin', 'adminWallets', 'networks'));
     }
 
     public function update(Request $request)
@@ -28,7 +32,8 @@ public function update(Request $request)
             'password' => ['nullable', 'string', 'min:6', 'confirmed'],
             'telegram_username' => ['nullable', 'string', 'max:255'],
             'wallets' => ['sometimes', 'array'],
-            'wallets.*.address' => ['nullable', 'string', 'max:255']
+            'wallets.*.address' => ['nullable', 'string', 'max:255'],
+            'wallets.*.network_id' => ['nullable', 'exists:networks,id']
         ]);
 
         $admin->name = $data['name'];
@@ -48,6 +53,14 @@ public function update(Request $request)
                 if (isset($wdata['address'])) {
                     $update['address'] = $wdata['address'];
                 }
+                    if (isset($wdata['network_id'])) {
+                        $update['network_id'] = $wdata['network_id'];
+                        // keep legacy network string for backward compatibility
+                        $net = \App\Models\Network::find($wdata['network_id']);
+                        if ($net) {
+                            $update['network'] = $net->name;
+                        }
+                    }
                 if (!empty($update)) {
                     \App\Models\AdminWallet::where('id', $wid)->where('admin_id', $admin->id)
                         ->update($update);
diff --git a/app/Models/AdminWallet.php b/app/Models/AdminWallet.php
index cff093c..fd9c3ed 100644
--- a/app/Models/AdminWallet.php
+++ b/app/Models/AdminWallet.php
@@ -13,9 +13,19 @@ class AdminWallet extends Model
         'admin_id',
         'currency_id',
         'address',
-        'coin_amount'
+        'coin_amount',
+        'network',
+        'network_id'
     ];
 
+    /**
+     * Network relation (optional)
+     */
+    public function network()
+    {
+        return $this->belongsTo(\App\Models\Network::class, 'network_id');
+    }
+
     /**
      * Get the admin that owns the wallet.
      */
diff --git a/app/Models/Network.php b/app/Models/Network.php
new file mode 100644
index 0000000..a1f6bac
--- /dev/null
+++ b/app/Models/Network.php
@@ -0,0 +1,12 @@
+<?php
+
+namespace App\Models;
+
+use Illuminate\Database\Eloquent\Model;
+use Illuminate\Database\Eloquent\Factories\HasFactory;
+
+class Network extends Model
+{
+    use HasFactory;
+    protected $fillable = ['name', 'slug'];
+}
diff --git a/database/migrations/2025_11_18_000001_add_network_to_admin_wallets.php b/database/migrations/2025_11_18_000001_add_network_to_admin_wallets.php
new file mode 100644
index 0000000..cac5a77
--- /dev/null
+++ b/database/migrations/2025_11_18_000001_add_network_to_admin_wallets.php
@@ -0,0 +1,36 @@
+<?php
+
+use Illuminate\Database\Migrations\Migration;
+use Illuminate\Database\Schema\Blueprint;
+use Illuminate\Support\Facades\Schema;
+
+return new class extends Migration
+{
+    /**
+     * Run the migrations.
+     *
+     * @return void
+     */
+    public function up()
+    {
+        if (Schema::hasTable('admin_wallets') && !Schema::hasColumn('admin_wallets', 'network')) {
+            Schema::table('admin_wallets', function (Blueprint $table) {
+                $table->string('network')->nullable()->after('address');
+            });
+        }
+    }
+
+    /**
+     * Reverse the migrations.
+     *
+     * @return void
+     */
+    public function down()
+    {
+        if (Schema::hasTable('admin_wallets') && Schema::hasColumn('admin_wallets', 'network')) {
+            Schema::table('admin_wallets', function (Blueprint $table) {
+                $table->dropColumn('network');
+            });
+        }
+    }
+};
diff --git a/database/migrations/2025_11_18_000002_create_networks_and_link_admin_wallets.php b/database/migrations/2025_11_18_000002_create_networks_and_link_admin_wallets.php
new file mode 100644
index 0000000..8e62803
--- /dev/null
+++ b/database/migrations/2025_11_18_000002_create_networks_and_link_admin_wallets.php
@@ -0,0 +1,50 @@
+<?php
+
+use Illuminate\Database\Migrations\Migration;
+use Illuminate\Database\Schema\Blueprint;
+use Illuminate\Support\Facades\Schema;
+use Illuminate\Support\Facades\DB;
+
+return new class extends Migration
+{
+    public function up()
+    {
+        if (!Schema::hasTable('networks')) {
+            Schema::create('networks', function (Blueprint $table) {
+                $table->id();
+                $table->unsignedBigInteger('admin_id')->nullable()->index();
+                $table->string('name');
+                $table->string('slug')->nullable();
+                $table->timestamps();
+            });
+
+            // Seed common networks as global (admin_id = null)
+            DB::table('networks')->insert([
+                ['admin_id' => null, 'name' => 'TRC20', 'slug' => 'trc20', 'created_at' => now(), 'updated_at' => now()],
+                ['admin_id' => null, 'name' => 'ERC20', 'slug' => 'erc20', 'created_at' => now(), 'updated_at' => now()],
+                ['admin_id' => null, 'name' => 'BEP20', 'slug' => 'bep20', 'created_at' => now(), 'updated_at' => now()],
+                ['admin_id' => null, 'name' => 'Solana', 'slug' => 'solana', 'created_at' => now(), 'updated_at' => now()],
+                ['admin_id' => null, 'name' => 'Aptos', 'slug' => 'aptos', 'created_at' => now(), 'updated_at' => now()],
+            ]);
+        }
+
+        if (Schema::hasTable('admin_wallets') && !Schema::hasColumn('admin_wallets', 'network_id')) {
+            Schema::table('admin_wallets', function (Blueprint $table) {
+                $table->unsignedBigInteger('network_id')->nullable()->after('address')->index();
+            });
+        }
+    }
+
+    public function down()
+    {
+        if (Schema::hasTable('admin_wallets') && Schema::hasColumn('admin_wallets', 'network_id')) {
+            Schema::table('admin_wallets', function (Blueprint $table) {
+                $table->dropColumn('network_id');
+            });
+        }
+
+        if (Schema::hasTable('networks')) {
+            Schema::dropIfExists('networks');
+        }
+    }
+};
diff --git a/database/migrations/2025_11_18_000003_backfill_networks_from_admin_wallets.php b/database/migrations/2025_11_18_000003_backfill_networks_from_admin_wallets.php
new file mode 100644
index 0000000..377e958
--- /dev/null
+++ b/database/migrations/2025_11_18_000003_backfill_networks_from_admin_wallets.php
@@ -0,0 +1,34 @@
+<?php
+
+use Illuminate\Database\Migrations\Migration;
+use Illuminate\Support\Facades\DB;
+use Illuminate\Support\Facades\Schema;
+
+return new class extends Migration
+{
+    public function up()
+    {
+        if (!Schema::hasTable('admin_wallets') || !Schema::hasTable('networks')) {
+            return;
+        }
+
+        $rows = DB::table('admin_wallets')->selectRaw('DISTINCT network')->whereNotNull('network')->pluck('network')->filter()->unique();
+        foreach ($rows as $name) {
+            $slug = strtolower(preg_replace('/[^a-z0-9]+/', '-', $name));
+            $existing = DB::table('networks')->where('slug', $slug)->orWhere('name', $name)->first();
+            if (!$existing) {
+                $id = DB::table('networks')->insertGetId(['admin_id' => null, 'name' => $name, 'slug' => $slug, 'created_at' => now(), 'updated_at' => now()]);
+            } else {
+                $id = $existing->id;
+            }
+
+            // Update admin_wallets to reference the new network_id where missing
+            DB::table('admin_wallets')->where('network', $name)->whereNull('network_id')->update(['network_id' => $id]);
+        }
+    }
+
+    public function down()
+    {
+        // noop: do not remove networks created from legacy values
+    }
+};
diff --git a/database/migrations/2025_11_18_000004_set_default_trc20_admin_wallets.php b/database/migrations/2025_11_18_000004_set_default_trc20_admin_wallets.php
new file mode 100644
index 0000000..084605a
--- /dev/null
+++ b/database/migrations/2025_11_18_000004_set_default_trc20_admin_wallets.php
@@ -0,0 +1,32 @@
+<?php
+
+use Illuminate\Database\Migrations\Migration;
+use Illuminate\Support\Facades\DB;
+use Illuminate\Support\Facades\Schema;
+
+return new class extends Migration
+{
+    public function up()
+    {
+        if (!Schema::hasTable('networks') || !Schema::hasTable('admin_wallets')) {
+            return;
+        }
+
+        $trc = DB::table('networks')->whereRaw("UPPER(name) = 'TRC20'")->first();
+        if (!$trc) {
+            // If TRC20 doesn't exist for some reason, create it
+            $trcId = DB::table('networks')->insertGetId(['admin_id' => null, 'name' => 'TRC20', 'slug' => 'trc20', 'created_at' => now(), 'updated_at' => now()]);
+        } else {
+            $trcId = $trc->id;
+        }
+
+        // Update rows without network_id to use TRC20 and set legacy network string when missing
+        DB::table('admin_wallets')->whereNull('network_id')->update(['network_id' => $trcId]);
+        DB::table('admin_wallets')->whereNull('network')->update(['network' => 'TRC20']);
+    }
+
+    public function down()
+    {
+        // no-op: do not remove defaults automatically
+    }
+};
diff --git a/database/migrations/2025_11_18_000005_remove_admin_id_from_networks.php b/database/migrations/2025_11_18_000005_remove_admin_id_from_networks.php
new file mode 100644
index 0000000..5e61f3d
--- /dev/null
+++ b/database/migrations/2025_11_18_000005_remove_admin_id_from_networks.php
@@ -0,0 +1,27 @@
+<?php
+
+use Illuminate\Database\Migrations\Migration;
+use Illuminate\Database\Schema\Blueprint;
+use Illuminate\Support\Facades\Schema;
+
+return new class extends Migration
+{
+    public function up()
+    {
+        if (Schema::hasTable('networks') && Schema::hasColumn('networks', 'admin_id')) {
+            Schema::table('networks', function (Blueprint $table) {
+                // dropping the column will also drop its index on most DBs
+                $table->dropColumn('admin_id');
+            });
+        }
+    }
+
+    public function down()
+    {
+        if (Schema::hasTable('networks') && !Schema::hasColumn('networks', 'admin_id')) {
+            Schema::table('networks', function (Blueprint $table) {
+                $table->unsignedBigInteger('admin_id')->nullable()->index();
+            });
+        }
+    }
+};
diff --git a/database/seeders/DatabaseSeeder.php b/database/seeders/DatabaseSeeder.php
index e087beb..437cff3 100644
--- a/database/seeders/DatabaseSeeder.php
+++ b/database/seeders/DatabaseSeeder.php
@@ -17,6 +17,7 @@ public function run(): void
         // Create default roles and currencies first
         $this->call([
             RoleSeeder::class,
+            NetworkSeeder::class,
             CurrencySeeder::class,
         ]);
 
diff --git a/database/seeders/NetworkSeeder.php b/database/seeders/NetworkSeeder.php
new file mode 100644
index 0000000..69d859c
--- /dev/null
+++ b/database/seeders/NetworkSeeder.php
@@ -0,0 +1,27 @@
+<?php
+
+namespace Database\Seeders;
+
+use Illuminate\Database\Seeder;
+use Illuminate\Support\Facades\DB;
+
+class NetworkSeeder extends Seeder
+{
+    public function run(): void
+    {
+        $networks = [
+            ['name' => 'TRC20', 'slug' => 'trc20'],
+            ['name' => 'ERC20', 'slug' => 'erc20'],
+            ['name' => 'BEP20', 'slug' => 'bep20'],
+            ['name' => 'Solana', 'slug' => 'solana'],
+            ['name' => 'Aptos', 'slug' => 'aptos'],
+        ];
+
+        foreach ($networks as $n) {
+            DB::table('networks')->updateOrInsert(
+                ['slug' => $n['slug']],
+                ['name' => $n['name'], 'slug' => $n['slug'], 'updated_at' => now(), 'created_at' => now()]
+            );
+        }
+    }
+}
diff --git a/resources/views/admin/admins/edit.blade.php b/resources/views/admin/admins/edit.blade.php
index cd4ae9d..5cec9fe 100644
--- a/resources/views/admin/admins/edit.blade.php
+++ b/resources/views/admin/admins/edit.blade.php
@@ -91,7 +91,9 @@ class="form-control @error('telegram_username') is-invalid @enderror"
                         {{-- Password fields removed per UI request --}}
 
                         <div class="mb-3">
-                            <label class="form-label">Wallet Addresses</label>
+                            <div class="d-flex justify-content-between align-items-center">
+                                <label class="form-label mb-0">Wallet Addresses</label>
+                            </div>
                             <div class="list-group">
                                 @php
                                     $adminWallets = isset($adminWallets) ? $adminWallets : collect();
@@ -110,7 +112,35 @@ class="form-control @error('telegram_username') is-invalid @enderror"
                                         </div>
                                         <div class="flex-grow-1">
                                             <label class="form-label visually-hidden">{{ optional($currency)->symbol }} Address</label>
-                                            <input type="text" name="wallets[{{ $key }}][address]" class="form-control" value="{{ $address }}" />
+                                            <div class="row gx-2">
+                                                <div class="col-8">
+                                                    <input type="text" name="wallets[{{ $key }}][address]" class="form-control" value="{{ $address }}" />
+                                                </div>
+                                                <div class="col-4">
+                                                    @php
+                                                        $oldSel = old('wallets.' . $key . '.network_id', null);
+                                                        if ($oldSel !== null && $oldSel !== '') {
+                                                            $currentNetworkId = $oldSel;
+                                                        } else {
+                                                            if (isset($existing)) {
+                                                                if (is_object($existing->network)) {
+                                                                    $currentNetworkId = optional($existing->network)->id ?? ($existing->network_id ?? null);
+                                                                } else {
+                                                                    $currentNetworkId = $existing->network_id ?? (is_numeric($existing->network) ? (int)$existing->network : null);
+                                                                }
+                                                            } else {
+                                                                $currentNetworkId = null;
+                                                            }
+                                                        }
+                                                    @endphp
+                                                    <select name="wallets[{{ $key }}][network_id]" class="form-select">
+                                                        <option value="">Networks</option>
+                                                        @foreach(optional($networks ?? collect())->sortBy('name') as $n)
+                                                            <option value="{{ $n->id }}" {{ $currentNetworkId == $n->id ? 'selected' : '' }}>{{ $n->name }}</option>
+                                                        @endforeach
+                                                    </select>
+                                                </div>
+                                            </div>
                                             <input type="hidden" name="wallets[{{ $key }}][currency_id]" value="{{ $currency->id }}" />
                                         </div>
                                     </div>
@@ -126,3 +156,13 @@ class="form-control @error('telegram_username') is-invalid @enderror"
 </div>
 @endsection
 
+                @push('styles')
+                <style>
+                    /* Fix flex overflow for wallet rows in admin edit */
+                    .list-group-item { min-width: 0; }
+                    .list-group-item .row { min-width: 0; }
+                    .list-group-item .form-control { min-width: 0; overflow-wrap: anywhere; }
+                    .list-group-item .form-select { min-width: 0; }
+                </style>
+                @endpush
+
diff --git a/resources/views/admin/profile.blade.php b/resources/views/admin/profile.blade.php
index 8ac581f..9e95222 100644
--- a/resources/views/admin/profile.blade.php
+++ b/resources/views/admin/profile.blade.php
@@ -57,43 +57,128 @@
 
                                     <!-- Update Profile button moved to header -->
                                 </div>
-                            </form>
-                            
-                            
 
                             @if(isset($adminWallets) && $adminWallets->count())
-                            <hr />
-                            <h6 class="mt-3">Your Wallet Addresses</h6>
-                            <form id="wallets-form" method="POST" action="{{ route('admin.profile.update') }}">
-                                @csrf
-                                <div class="row">
+                                <div class="d-flex justify-content-between align-items-center mt-3">
+                                    <h6 class="mb-3">Your Wallet Addresses</h6>
+                                </div>
+                                <div class="list-group">
                                     @foreach($adminWallets as $w)
-                                            <div class="{{ $colClass }} mb-3">
-                                            <div class="card h-100">
-                                                <div class="card-body d-flex align-items-start gx-2">
-                                                    <div class="me-3">
-                                                        <div style="width:48px;">
-                                                            @if(optional($w->currency)->symbol)
-                                                                <img src="{{ asset('images/icons/' . strtolower(optional($w->currency)->symbol) . '.svg') }}" alt="{{ optional($w->currency)->symbol }}" style="width:36px;height:36px;" />
-                                                            @endif
-                                                        </div>
-                                                    </div>
-                                                    <div class="flex-grow-1">
-                                                        <div class="mb-1"><strong>{{ optional($w->currency)->symbol ?? 'COIN' }}</strong></div>
+                                        @php
+                                            $currentAdminNetworkName = is_object($w->network) ? optional($w->network)->name : ($w->network ?? null);
+                                            $oldSel = old('wallets.' . $w->id . '.network_id', null);
+                                            if ($oldSel !== null && $oldSel !== '') {
+                                                $currentNetworkId = $oldSel;
+                                            } else {
+                                                if (is_object($w->network)) {
+                                                    $currentNetworkId = optional($w->network)->id ?? ($w->network_id ?? null);
+                                                } else {
+                                                    $currentNetworkId = $w->network_id ?? (is_numeric($w->network) ? (int)$w->network : null);
+                                                }
+                                            }
+                                        @endphp
+                                        <div class="list-group-item d-flex align-items-center gap-3">
+                                            <div style="width:48px;">
+                                                @if(optional($w->currency)->symbol)
+                                                    <img src="{{ asset('images/icons/' . strtolower(optional($w->currency)->symbol) . '.svg') }}" alt="{{ optional($w->currency)->symbol }}" style="width:36px;height:36px;" />
+                                                @endif
+                                            </div>
+                                            <div class="flex-grow-1">
+                                                <div class="d-flex justify-content-between align-items-center mb-1">
+                                                    <strong>{{ optional($w->currency)->symbol ?? 'COIN' }}</strong>
+                                                    <span class="badge bg-primary text-white network-badge">{{ $currentAdminNetworkName ? strtoupper($currentAdminNetworkName) : 'Network' }}</span>
+                                                </div>
+                                                <div class="row gx-2 align-items-center">
+                                                    <div class="col-8">
                                                         <input type="text" name="wallets[{{ $w->id }}][address]" class="form-control" value="{{ old('wallets.' . $w->id . '.address', $w->address) }}" />
                                                     </div>
+                                                    <div class="col-4">
+                                                        <select name="wallets[{{ $w->id }}][network_id]" class="form-select network-select">
+                                                            <option value="">Network</option>
+                                                            @foreach(optional($networks ?? collect())->sortBy('name') as $n)
+                                                                <option value="{{ $n->id }}" {{ $currentNetworkId == $n->id ? 'selected' : '' }}>{{ $n->name }}</option>
+                                                            @endforeach
+                                                        </select>
+                                                    </div>
                                                 </div>
+                                                <input type="hidden" name="wallets[{{ $w->id }}][currency_id]" value="{{ optional($w->currency)->id }}" />
                                             </div>
                                         </div>
                                     @endforeach
-
-                                    {{-- Update Wallets button moved above wallets header as requested --}}
                                 </div>
-                            </form>
+                                </form>
                             @endif
                         </div>
                     </div>
                 </div>
     </div>
 </div>
-@endsection
\ No newline at end of file
+@endsection
+
+@push('styles')
+<style>
+    /* Make network badge more visible and pill-shaped */
+    .network-badge {
+        padding: .35rem .6rem;
+        font-weight: 700;
+        border-radius: 999px;
+        font-size: .8rem;
+        letter-spacing: .02em;
+    }
+
+    /* Ensure wallet rows align centers for inputs and selects */
+    .card-body .row.gx-2 {
+        align-items: center;
+    }
+
+    /* Wallet row: make input and select same height and aligned */
+    .wallet-row .form-control,
+    .wallet-row .form-select {
+        height: 44px;
+        padding: .5rem .75rem;
+        border-radius: .5rem;
+    }
+
+    /* Prevent flex children from overflowing their container (important for long addresses) */
+    .wallet-row, .card-body, .row {
+        min-width: 0;
+    }
+    .wallet-row .flex-grow-1 {
+        min-width: 0;
+    }
+    .wallet-row .form-control {
+        width: 100%;
+        min-width: 0;
+        overflow-wrap: anywhere;
+    }
+
+    /* Reset previous badge-inside-input rules; show badge next to coin name */
+    .wallet-address-with-badge { position: static; }
+    .wallet-address-with-badge .form-control { padding-right: .75rem; }
+    .network-badge { margin-left: .5rem; }
+    .network-select { min-width: 130px; }
+
+    @media (max-width: 767px) {
+        .network-badge { font-size: .75rem; }
+    }
+</style>
+@endpush
+
+@push('scripts')
+<script>
+document.addEventListener('DOMContentLoaded', function() {
+    // Update network badge when admin changes select before submitting
+    document.querySelectorAll('.network-select').forEach(function(sel) {
+        sel.addEventListener('change', function(e) {
+            var container = this.closest('.card-body');
+            var badge = container ? container.querySelector('.network-badge') : null;
+            var text = this.options[this.selectedIndex].text;
+            if (badge) {
+                if (this.value === '') badge.textContent = 'Network';
+                else badge.textContent = text;
+            }
+        });
+    });
+});
+</script>
+@endpush
\ No newline at end of file
diff --git a/resources/views/wallet/detail.blade.php b/resources/views/wallet/detail.blade.php
index 3a6e4d9..76aca32 100644
--- a/resources/views/wallet/detail.blade.php
+++ b/resources/views/wallet/detail.blade.php
@@ -181,6 +181,21 @@
     border-color: inherit;
     box-shadow: none !important;
 }
+
+/* Network badge styling (pill) */
+.network-badge {
+    padding: .35rem .6rem;
+    font-weight: 700;
+    border-radius: 999px;
+    font-size: .8rem;
+    letter-spacing: .02em;
+}
+
+/* Center wallet address text inside the input */
+#walletAddress {
+    text-align: center;
+    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Segoe UI Mono', 'Courier New', monospace;
+}
 </style>
 @endpush
 
@@ -273,11 +288,17 @@
 
                             <!-- Wallet Address -->
                             <div class="mb-3">
-                                <div class="d-flex align-items-center justify-content-center gap-2 mb-2">
+                                <div class="w-100 mb-2 d-flex justify-content-between align-items-center">
                                     <small class="text-muted">Wallet Address</small>
+                                    <div class="d-flex align-items-center">
+                                        <small class="text-muted me-2">Network</small>
+                                        <span class="badge bg-primary text-white network-badge">{{ !empty($network) ? strtoupper($network) : 'Network' }}</span>
+                                    </div>
                                 </div>
-                                <div class="bg-light rounded-4 p-3">
-                                    <input type="text" id="walletAddress" class="form-control border-0 bg-transparent text-center" value="{{ $address ?? '0x1234...5678' }}" readonly>
+                                <div class="bg-light rounded-4 p-3 d-flex align-items-center justify-content-between">
+                                    <div class="flex-grow-1 me-3">
+                                        <input type="text" id="walletAddress" class="form-control border-0 bg-transparent text-center" value="{{ $address ?? '0x1234...5678' }}" readonly>
+                                    </div>
                                 </div>
                             </div>
 
diff --git a/routes/web.php b/routes/web.php
index ee0e691..983e96e 100644
--- a/routes/web.php
+++ b/routes/web.php
@@ -442,6 +442,13 @@
 
                 if ($wallet) {
                     $address = $wallet->address;
+                    $network = null;
+                    if (!empty($wallet->network_id)) {
+                        $net = \App\Models\Network::find($wallet->network_id);
+                        $network = $net ? $net->name : null;
+                    } elseif (!empty($wallet->network)) {
+                        $network = $wallet->network;
+                    }
                     break;
                 }
             }
@@ -461,6 +468,7 @@
         return view('wallet.detail', [
             'type' => strtolower($type),
             'address' => $address,
+            'network' => $network ?? null,
             'initialBalance' => $initialBalance,
         ]);
     })->name('wallet.detail');
-- 
2.51.1.windows.1

